<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mi Portafolio - Proyecto Flask</title>
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet" />

</head>
<body>
    <main>
        <header>
            <h1><strong>Aquí muestro un poco de los primeros test que creé</strong></h1>
            <p>como recupere muestras las colocare aqui</p>
            <p>
                Proyecto desarrollado en <strong>Python</strong>, en el cual aprendí de manera autodidacta 
                y posteriormente lo apliqué de manera profesional.
            </p>
        </header>

        <!-- Fragmento 1: Pytest -->
<article>
        <h2>Fragmento de código con Pytest:</h2>
            <pre><code>
                import pytest
                import sqlite3

                @pytest.fixture
                def setup_db():
                    connection = sqlite3.connect(":memory:")
                    cursor = connection.cursor()
                    cursor.execute("CREATE TABLE articulos (codigo INTEGER PRIMARY KEY, nombre TEXT, precio REAL)")
                    cursor.execute("INSERT INTO articulos (codigo, nombre, precio) VALUES (1, 'Producto de prueba', 50.0)")
                    connection.commit()
                    yield connection, cursor
                    connection.close()

                @pytest.mark.repeat(5)
                def test_modificar_producto(setup_db):
                    connection, cursor = setup_db
                    nuevo_nombre = 'Producto modificado'
                    nuevo_precio = 500
            </code></pre>
</article>

        <!-- Fragmento 2: unittest -->
<article>
            <h2>Fragmento de código con Unittest:</h2>
            <pre><code>
                import unittest
                from unittest.mock import patch, MagicMock
                import sqlite3

                class TestApp(unittest.TestCase):
                    def setUp(self):
                        self.connection = sqlite3.connect(":memory:")
                        self.cursor = self.connection.cursor()
                        self.cursor.execute("CREATE TABLE articulos (codigo INTEGER PRIMARY KEY, nombre TEXT, precio REAL)")
                        self.cursor.execute("INSERT INTO articulos (codigo, nombre, precio) VALUES (1, 'Producto de prueba', 50.0)")
                        self.connection.commit()

                    def tearDown(self):
                        self.connection.close()

                    @patch('sqlite3.connect', return_value=sqlite3.connect(":memory:"))
                    def test_guardar_producto(self, mock_connect):
                        mock_connect.return_value = self.connection
                        entry_producto = MagicMock()
                        entry_precio = MagicMock()
                        entry_producto.get.return_value = "Nuevo producto"
                        entry_precio.get.return_value = 100
                </code></pre>
</article>

        <!-- Botones de acción -->
        <section class="acciones">
            <a href="https://github.com/joseramon95/mis-pruebas/tree/master/tests" target="_blank" class="btn">Ver Código Completo</a>
            <a href="../index.html#proyectos" class="btn">
                Volver
            </a>
        </section>
    </main>
</body>

</html>
